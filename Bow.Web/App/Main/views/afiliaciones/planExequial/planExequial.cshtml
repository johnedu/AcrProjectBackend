<script type="text/ng-template" id="customTemplate.html">
    <a>
        <span bind-html-unsafe="match.model.nombre | typeaheadHighlight:query"></span>
    </a>
</script>
<div class="app-container" ng-controller="app.views.afiliaciones.planExequial as vm">
    <div class="app-view-header page-header">
        <div class="col-md-12">
            @L("afiliaciones_planExequial_titulo")
        </div>
        <a ui-sref="detallePlanExequial({planId : 1})"
           title='@L("")detalle plan exequial'>
            detalle plan exequial
        </a>
    </div>
    <div class="row">
        <div class="col-lg-4">
            <div class="panel panel-primary">
                <div class="panel-heading" ng-class="'bg-' + app.theme.name">
                    @L("afiliaciones_planExequial_titulo")
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div>
                                <i class="fa fa-users"></i>
                                &nbsp;&nbsp;&nbsp;&nbsp;
                                <span class="text-muted">
                                    @L("afiliaciones_planExequial_tablaIconos_planGrupo")
                                </span>
                            </div>
                            <div>
                                <i class="fa fa-home"></i>
                                &nbsp;&nbsp;&nbsp;&nbsp;
                                <span class="text-muted">
                                    @L("afiliaciones_planExequial_tablaIconos_planFamiliar")
                                </span>
                            </div>
                            <div>
                                <i class="fa fa-suitcase"></i>
                                &nbsp;&nbsp;&nbsp;&nbsp;
                                <span class="text-muted">
                                    @L("afiliaciones_planExequial_tablaIconos_planEmpresarial")
                                </span>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div>
                                <i class="fa fa-caret-square-o-up"></i>
                                &nbsp;&nbsp;
                                <i class="fa fa-diamond"></i>
                                &nbsp;&nbsp;&nbsp;&nbsp;
                                <span class="text-muted">
                                    @L("afiliaciones_planExequial_tablaIconos_planActivo")
                                </span>
                            </div>
                            <div>
                                <i class="fa fa-caret-square-o-down"></i>
                                &nbsp;&nbsp;
                                <i class="fa fa-diamond text-danger"></i>
                                &nbsp;&nbsp;&nbsp;&nbsp;
                                <span class="text-muted">
                                    @L("afiliaciones_planExequial_tablaIconos_planInactivo")
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="row" ng-hide="vm.formularioPlanVisible">
                        <div class="col-md-10 text-center text-muted text-bold bow-margin-top-10">
                            {{filtered.length}}  <span ng-show="vm.planesExequiales.length == '1'">@L("afiliaciones_planExequial_tabla_1Registrado")</span><span ng-hide="vm.planesExequiales.length == '1'">@L("afiliaciones_planExequial_tabla_masde1Registrados")</span>
                        </div>
                        <div class="col-md-2">
                            <button class="btn btn-success btn-circle btn-lg" ng-click="vm.mostrarFormularioPlan(true)" title="@L("afiliaciones_planExequial_btnregistrar")">
                                <em class="fa fa-plus"></em>
                            </button>
                        </div>
                    </div>
                    <div class="row bow-margin-bottom-10 bow-margin-top-10" ng-show="vm.formularioPlanVisible">
                        <div class="col-md-12">
                            <div class="row">
                                <div class="col-md-12 text-center">
                                    <label class="media-heading" ng-class="'text-' + app.theme.name" ng-show="vm.accionFormulario == 'Modificar'">Editando Plan Exequial</label>
                                    <label class="media-heading" ng-class="'text-' + app.theme.name" ng-hide="vm.accionFormulario == 'Modificar'">Nuevo Plan Exequial</label>
                                </div>
                            </div>
                            <form role="form" name="frmRegistrarPlanExequial">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group" ng-class="{'has-error' : frmRegistrarPlanExequial.iptNombre.$dirty && frmRegistrarPlanExequial.iptNombre.$invalid }">
                                            <label class="control-label" for="iptNombre">@L("afiliaciones_planExequial_form_nombre")</label>
                                            <input type="text" class="form-control" id="iptNombre" name="iptNombre" placeholder="@L("afiliaciones_planExequial_form_nombre_placeholder")" ng-model="vm.planExequial.nombre" required maxlength="100" />
                                            <div ng-show="frmRegistrarPlanExequial.iptNombre.$dirty && frmRegistrarPlanExequial.iptNombre.$invalid">
                                                <small ng-show="frmRegistrarPlanExequial.iptNombre.$error.required" class="text-danger">
                                                    @L("afiliaciones_planExequial_form_nombre_requerido")
                                                </small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group" ng-class="{'has-error' : frmRegistrarPlanExequial.iptDescripcion.$dirty && frmRegistrarPlanExequial.iptDescripcion.$invalid }">
                                            <label class="control-label" for="iptDescripcion">@L("afiliaciones_planExequial_form_descripcion")</label>
                                            <textarea class="form-control" style="resize: none;" id="iptDescripcion" name="iptDescripcion" placeholder="@L("afiliaciones_planExequial_form_descripcion_placeholder")" ng-model="vm.planExequial.descripcion" required maxlength="300" rows="3"></textarea>
                                            <div ng-show="frmRegistrarPlanExequial.iptDescripcion.$dirty && frmRegistrarPlanExequial.iptDescripcion.$invalid">
                                                <small ng-show="frmRegistrarPlanExequial.iptDescripcion.$error.required" class="text-danger">
                                                    @L("afiliaciones_planExequial_form_descripcion_requerida")
                                                </small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group" ng-class="{'has-error' : frmRegistrarPlanExequial.selectedMoneda.$dirty && frmRegistrarPlanExequial.selectedMoneda.$invalid }">
                                            <label class="control-label" for="selectedMoneda">@L("afiliaciones_planExequial_form_moneda")</label>
                                            <select ng-model="vm.planExequial.monedaId" ng-options="moneda.id as moneda.nombre for moneda in vm.tiposMoneda" class="form-control" name="selectedMoneda" id="selectedMoneda" required>
                                                <option value="">@L("afiliaciones_planExequial_form_moneda_seleccione")</option>
                                            </select>
                                            <div ng-show="frmRegistrarPlanExequial.selectedMoneda.$dirty && frmRegistrarPlanExequial.selectedMoneda.$invalid">
                                                <small ng-show="frmRegistrarPlanExequial.selectedMoneda.$error.required" class="text-danger">
                                                    @L("afiliaciones_planExequial_form_moneda_requerida")
                                                </small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label class="control-label">@L("afiliaciones_planExequial_form_tipo_titulo")</label>
                                        <div class="checkbox c-checkbox needsclick">
                                            <label class="needsclick">
                                                <input type="checkbox" value="F" class="needsclick" ng-model="vm.planExequial.planFamiliar">
                                                <span class="fa fa-home"></span>@L("afiliaciones_planExequial_form_tipo_familiar")
                                            </label>
                                        </div>
                                        <div class="checkbox c-checkbox needsclick">
                                            <label class="needsclick">
                                                <input type="checkbox" value="G" class="needsclick" ng-model="vm.planExequial.planParaGrupo">
                                                <span class="fa fa-users"></span>@L("afiliaciones_planExequial_form_tipo_grupo")
                                            </label>
                                        </div>
                                        <div class="row" ng-show="vm.planExequial.planParaGrupo">
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <div class="row">
                                                        <div class="col-md-12 text-center">
                                                            <label class="control-label">@L("afiliaciones_planExequial_form_tipo_grupo_titulo")</label>
                                                        </div>
                                                    </div>
                                                    <div class="input-group">
                                                        <input id="iptGrupo" name="iptGrupo" type="text" ng-model="vm.planExequial.selectedGrupo" class="form-control" typeahead-editable="false"
                                                               typeahead="grupo as grupo.nombre for grupo in vm.filterByNombre(vm.gruposPlanExequial, $viewValue)" placeholder="@L("afiliaciones_planExequial_form_tipo_grupo_placeholder")"
                                                               typeahead-template-url="customTemplate.html" required>
                                                        <div class="input-group-btn">
                                                            <div data-toggle="tooltip" data-placement="right" title="@L("afiliaciones_planExequial_form_tipo_grupo_btnTooltip")">
                                                                <button type="button" class="btn btn-success" ng-click="vm.guardarSucursalEmpresa()" ng-disabled="vm.planExequial.selectedGrupo">@L("afiliaciones_planExequial_form_tipo_grupo_btnNombre")</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <div class="table-responsive">
                                                            <table class="table table-hover">
                                                                <tbody>
                                                                    <tr ng-repeat="grupo in vm.planExequial.grupos track by $index"
                                                                        ng-mouseenter="vm.controlesGrupo.mostrar($index)"
                                                                        ng-mouseleave="vm.controlesGrupo.ocultar($index)">
                                                                        <td>
                                                                            <h4 class="media-heading">
                                                                                {{grupo.nombre}}
                                                                            </h4>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <span ng-show="vm.controlesGrupo.visible[$index]" class="pull-right">
                                                                                <bow-operacion-eliminar-fila mensaje-confirmacion='@L("afiliaciones_planExequial_form_tipo_grupo_tabla_eliminar_confirmacion")'
                                                                                                             mensaje-tooltip='@L("afiliaciones_planExequial_form_tipo_grupo_tabla_eliminar_tooltip")'
                                                                                                             posicion-tooltip="left"
                                                                                                             operacion-puede-eliminar="vm.puedeEliminarPais(grupo.id, funcionRetornarPuedeEliminar)"
                                                                                                             no-puede-eliminar="vm.noPuedeEliminar()"
                                                                                                             confirmacion-ok="vm.eliminarGrupo(grupo.id)">
                                                                                </bow-operacion-eliminar-fila>
                                                                            </span>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="checkbox c-checkbox needsclick">
                                            <label class="needsclick">
                                                <input type="checkbox" value="E" class="needsclick" ng-model="vm.planExequial.planEmpresarial">
                                                <span class="fa fa-suitcase"></span>@L("afiliaciones_planExequial_form_tipo_empresa")
                                            </label>
                                        </div>
                                        <div class="row" ng-show="vm.planExequial.planEmpresarial">
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <div class="row">
                                                        <div class="col-md-12 text-center">
                                                            <label class="control-label">@L("afiliaciones_planExequial_form_tipo_empresa_titulo")</label>
                                                        </div>
                                                    </div>
                                                    <div class="input-group">
                                                        <input id="iptGrupo" name="iptGrupo" type="text" ng-model="vm.planExequial.selectedEmpresa" class="form-control" typeahead-editable="false"
                                                               typeahead="empresa as empresa.nombre for empresa in vm.filterByNombre(vm.empresasPlanExequial, $viewValue)" placeholder="@L("afiliaciones_planExequial_form_tipo_empresa_placeholder")"
                                                               typeahead-template-url="customTemplate.html" required>
                                                        <div class="input-group-btn">
                                                            <div data-toggle="tooltip" data-placement="right" title="@L("afiliaciones_planExequial_form_tipo_empresa_btnTooltip")">
                                                                <button type="button" class="btn btn-success" ng-click="vm.guardarSucursalEmpresa()" ng-disabled="vm.planExequial.selectedEmpresa">@L("afiliaciones_planExequial_form_tipo_empresa_btnNombre")</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <div class="table-responsive">
                                                            <table class="table table-hover">
                                                                <tbody>
                                                                    <tr ng-repeat="empresa in vm.planExequial.empresas track by $index"
                                                                        ng-mouseenter="vm.controlesEmpresa.mostrar($index)"
                                                                        ng-mouseleave="vm.controlesEmpresa.ocultar($index)">
                                                                        <td>
                                                                            <h4 class="media-heading">
                                                                                {{empresa.nombre}}
                                                                            </h4>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <span ng-show="vm.controlesEmpresa.visible[$index]" class="pull-right">
                                                                                <bow-operacion-eliminar-fila mensaje-confirmacion='@L("afiliaciones_planExequial_form_tipo_empresa_tabla_eliminar_confirmacion")' mensaje-tooltip='@L("afiliaciones_planExequial_form_tipo_empresa_tabla_eliminar_tooltip")' posicion-tooltip="left"
                                                                                                             operacion-puede-eliminar="vm.puedeEliminarPais(empresa.id, funcionRetornarPuedeEliminar)" no-puede-eliminar="vm.noPuedeEliminar()"
                                                                                                             confirmacion-ok="vm.eliminarEmpresa(empresa.id)"></bow-operacion-eliminar-fila>
                                                                            </span>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row bow-padding-bottom-10">
                                <div class="col-md-12 text-right">
                                    <button class="btn btn-success btn-circle btn-lg" ng-click="vm.guardarPlanExequial()" ng-disabled="frmRegistrarPlanExequial.$invalid" title="@L("afiliaciones_planExequial_form_btnRegistrar")">
                                        <em class="fa fa-save"></em>
                                    </button>
                                    <button class="btn btn-warning btn-circle btn-lg" ng-click="vm.mostrarFormularioPlan(false)" title="@L("afiliaciones_planExequial_form_btnCancelar")">
                                        <em class="fa fa-close"></em>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row" ng-show="!vm.formularioPlanVisible">
                        <div class="col-md-10">
                            <div class="input-group">
                                <input type="text" class="form-control" id="iptFiltroPlanExequial" name="iptFiltroPlanExequial" placeholder="@L("afiliaciones_planExequial_tabla_filtro_placeholder")" ng-model="vm.filtroPlanExequial" required maxlength="100" />
                                <div class="input-group-addon">
                                    <div data-toggle="tooltip" data-placement="right" title="@L("afiliaciones_planExequial_tabla_filtro_tooltip")">
                                        <i class="fa fa-search"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-2 text-center">
                            @L("empresas_empresaOrganizacion_infoTributaria_checkActivas")
                            <label class="switch switch-lg" ng-class="'switch-' + app.theme.name">
                                <input type="checkbox" checked="checked" ng-model="vm.checkActivas">
                                <span></span>
                            </label>
                        </div>
                    </div>
                    <div class="table-responsive" ng-show="!vm.formularioPlanVisible">
                        <table class="table table-hover">
                            <tbody>
                                <tr ng-repeat="plan in filtered = (vm.planesExequiales | filter:vm.filtroPlanExequial)"
                                    ng-mouseenter="vm.controlesPlanExequial.mostrar($index)"
                                    ng-mouseleave="vm.controlesPlanExequial.ocultar($index)"
                                    ng-show="plan.estadoActivo || !vm.checkActivas">
                                    <td>
                                        <h4 class="media-heading">
                                            <a class="clickable" ng-click="vm.cargarDetallePlanExequial(plan.id, plan.nombre)" title="@L("afiliaciones_planExequial_tabla_nombre_consultar")">
                                                {{plan.nombre}}
                                            </a>
                                        </h4>
                                        <div class="media-heading">
                                            <i ng-show="plan.estadoActivo" class="fa fa-diamond" data-toggle="tooltip" title="@L("afiliaciones_planExequial_tabla_estadoActivo_tooltip")"></i>
                                            <i ng-hide="plan.estadoActivo" class="fa fa-diamond text-danger" data-toggle="tooltip" title="@L("afiliaciones_planExequial_tabla_estadoInactivo_tooltip")"></i>
                                            &nbsp;&nbsp;
                                            <i data-toggle="tooltip" ng-show="plan.planParaGrupo" class="fa fa-users" title="@L("afiliaciones_planExequial_tabla_planGrupo_tooltip")"></i>
                                            <i data-toggle="tooltip" ng-show="plan.planFamiliar" class="fa fa-home" title="@L("afiliaciones_planExequial_tabla_planFamiliar_tooltip")"></i>
                                            <i data-toggle="tooltip" ng-show="plan.planEmpresarial" class="fa fa-suitcase" title="@L("afiliaciones_planExequial_tabla_planEmpresarial_tooltip")"></i>
                                        </div>
                                    </td>
                                    <td class="text-center">
                                        <span ng-show="vm.controlesPlanExequial.visible[$index]" class="pull-right">
                                            <bow-operacion-cambiar-estado-fila mensaje-confirmacion-activo="@L("afiliaciones_planExequial_tabla_estadoActivo_confirmacion")"
                                                                               mensaje-confirmacion-inactivo="@L("afiliaciones_planExequial_tabla_estadoInactivo_confirmacion")"
                                                                               mensaje-tooltip-activo="@L("afiliaciones_planExequial_tabla_estadoActivo_btnTooltip")"
                                                                               mensaje-tooltip-inactivo="@L("afiliaciones_planExequial_tabla_estadoInactivo_btnTooltip")"
                                                                               estado-actual-activo="{{plan.estadoActivo}}"
                                                                               confirmacion-ok="vm.cambiarEstadoPlan(plan.id, plan.estadoActivo)"
                                                                               cambiando-estado="vm.ocultarControlesEditarEliminar(ocultar)"
                                                                               ng-show="!vm.eliminandoPlanExequial">
                                            </bow-operacion-cambiar-estado-fila>
                                            <bow-operacion-editar-fila operacion-editar="vm.editarPlan(plan.id)"
                                                                       mensaje-tooltip="@L("afiliaciones_planExequial_tabla_editar_btnTooltip")"
                                                                       ng-show="!vm.eliminandoPlanExequial && !vm.cambiandoEstadoPlanExequial">
                                            </bow-operacion-editar-fila>
                                            <bow-operacion-eliminar-fila mensaje-confirmacion="@L("afiliaciones_planExequial_tabla_eliminar_confirmacion")"
                                                                         mensaje-tooltip="@L("afiliaciones_planExequial_tabla_eliminar_tooltip")"
                                                                         operacion-puede-eliminar="vm.puedeEliminarPlan(plan.id, funcionRetornarPuedeEliminar)"
                                                                         no-puede-eliminar="vm.noPuedeEliminar()"
                                                                         confirmacion-ok="vm.eliminarPlan(plan.id)"
                                                                         confirmacion-cancel="vm.cancelarEliminar()"
                                                                         ng-show="!vm.cambiandoEstadoPlanExequial">
                                            </bow-operacion-eliminar-fila>
                                        </span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-8">
            <div class="panel panel-default">
                <div class="row">
                    <div class="col-md-2">
                        <div class="row row-flush text-center text-muted m0">
                            <div class="col-md-12 bb br pv-xxl clickable" ng-class="{'bg-info': vm.opcionParametro[0]}" ripple="" title='@L("empresas_infoTributaria_opciones_titulo_tooltip")' ng-click="vm.gruposFamiliaresTab()">
                                <em class="fa fa-users fa-2x mv"></em>
                                <br />
                                @L("afiliaciones_detallePlanExequial_pestanas_grupoFamiliar")
                                <span class="ripple"></span>
                            </div>
                        </div>
                        <div class="row row-flush text-center text-muted m0">
                            <div class="col-md-12 bb br pv-xxl clickable" ng-class="{'bg-purple': vm.opcionParametro[1]}" ripple="" title='@L("empresas_infoTributaria_localidades_titulo_tooltip")' ng-click="vm.beneficiosTab()">
                                <em class="fa fa-star fa-2x mv"></em>
                                <br />
                                @L("afiliaciones_detallePlanExequial_pestanas_beneficios")
                                <span class="ripple"></span>
                            </div>
                        </div>
                        <div class="row row-flush text-center text-muted m0">
                            <div class="col-md-12 bb br pv-xxl clickable" ng-class="{'bg-success': vm.opcionParametro[2]}" ripple="" title='@L("empresas_infoTributaria_localidades_titulo_tooltip")' ng-click="vm.comoercializacionTab()">
                                <em class="fa fa-briefcase fa-2x mv"></em>
                                <br />
                                @L("afiliaciones_detallePlanExequial_pestanas_comercializacion")
                                <span class="ripple"></span>
                            </div>
                        </div>
                        <div class="row row-flush text-center text-muted m0">
                            <div class="col-md-12 bb br pv-xxl clickable" ng-class="{'bg-pink': vm.opcionParametro[3]}" ripple="" title='@L("empresas_infoTributaria_localidades_titulo_tooltip")' ng-click="vm.recaudoMasivoTab()">
                                <em class="fa fa-money fa-2x mv"></em>
                                <br />
                                @L("afiliaciones_detallePlanExequial_pestanas_recaudoMasivo")
                                <span class="ripple"></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-10" ng-if="vm.opcionParametro[0]">
                        <div class="p">
                            <div class="row">
                                <div class="col-md-12 text-center text-bold bow-margin-bottom-10 fa-2x">
                                    {{vm.planExequialNombreSelected}}
                                </div>
                            </div>
                            <div class="panel panel-info">
                                <div class="panel-heading">
                                    @L("afiliaciones_detallePlanExequial_pestanas_grupoFamiliar")
                                </div>
                                <div class="panel-body">
                                    <div ng-show="vm.planExequialIdSelected">
                                        <div class="row" ng-show="!vm.formularioGrupoVisible && !vm.formularioParentescoVisible && !vm.formularioConsultaVisible">
                                            <div class="col-md-6">
                                                <h4 class="media-heading">
                                                    {{vm.gruposFamiliares.length}} <span ng-show="vm.gruposFamiliares.length == '1'">@L("afiliaciones_detallePlanExequial_grupoFamiliar_tabla_conteo_1registro")</span><span ng-hide="vm.gruposFamiliares.length == '1'">@L("afiliaciones_detallePlanExequial_grupoFamiliar_tabla_conteo_masde1registro")</span>
                                                </h4>
                                            </div>
                                            <div class="col-md-6 text-right bow-padding-bottom-10">
                                                <button class="btn btn-success btn-circle btn-lg" ng-click="vm.mostrarFormularioGrupo(true)" title="@L("afiliaciones_detallePlanExequial_grupoFamiliar_nuevo_titulo")">
                                                    <em class="fa fa-plus"></em>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="table-responsive" ng-show="!vm.formularioGrupoVisible && !vm.formularioParentescoVisible && !vm.formularioConsultaVisible">
                                            <table class="table table-hover">
                                                <tbody>
                                                    <tr ng-repeat="grupo in vm.gruposFamiliares"
                                                        ng-mouseenter="vm.controlesGrupoFamiliar.mostrar($index)"
                                                        ng-mouseleave="vm.controlesGrupoFamiliar.ocultar($index)">
                                                        <td>
                                                            <h4 class="media-heading">
                                                                <a class="clickable" title='@L("afiliaciones_detallePlanExequial_grupoFamiliar_tabla_consultarDetalle")' ng-click="vm.consultarParentescosYRangos(grupo.id)">
                                                                    {{grupo.nombre}}
                                                                </a>
                                                            </h4>
                                                            <div class="text-muted">
                                                                {{grupo.descripcion}}
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <h5 class="media-heading">
                                                                {{grupo.valorPlan | currency:"$ ":0}}
                                                            </h5>
                                                        </td>
                                                        <td class="text-center">
                                                            <span ng-show="vm.controlesGrupoFamiliar.visible[$index]" class="pull-right">
                                                                <button class="btn btn-info btn-circle btn-lg" ng-click="vm.mostrarParentesco(grupo.id, grupo.nombre, true)" title="@L("afiliaciones_detallePlanExequial_grupoFamiliar_tabla_editarParentescos_tooltip")">
                                                                    <em class="fa fa-group"></em>
                                                                </button>
                                                                <bow-operacion-editar-fila operacion-editar="vm.editarGrupoFamiliar(grupo.id)"
                                                                                           mensaje-tooltip="@L("afiliaciones_detallePlanExequial_grupoFamiliar_tabla_editar_tooltip")">
                                                                </bow-operacion-editar-fila>
                                                                <bow-operacion-eliminar-fila mensaje-confirmacion="@L("afiliaciones_detallePlanExequial_grupoFamiliar_tabla_confirmacion")"
                                                                                             mensaje-tooltip="@L("afiliaciones_detallePlanExequial_grupoFamiliar_tabla_eliminar")"
                                                                                             operacion-puede-eliminar="vm.puedeEliminarGrupoFamiliar(grupo.id, funcionRetornarPuedeEliminar)"
                                                                                             no-puede-eliminar="vm.noPuedeEliminar()"
                                                                                             confirmacion-ok="vm.eliminarGrupoFamiliar(grupo.id)">
                                                                </bow-operacion-eliminar-fila>
                                                            </span>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="row" ng-show="vm.formularioGrupoVisible">
                                            <div class="col-md-12">
                                                <form role="form" name="frmRegistrarGrupoFamiliar">
                                                    <input id="frmRegistrarGrupoOculto" ng-model="vm.data.frmRegistrarGrupoFamiliar" ng-init="vm.data.frmRegistrarGrupoFamiliar=frmRegistrarGrupoFamiliar" hidden>
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="form-group" ng-class="{'has-error' : frmRegistrarGrupoFamiliar.iptNombre.$dirty && frmRegistrarGrupoFamiliar.iptNombre.$invalid }">
                                                                <label class="control-label" for="iptNombre">@L("afiliaciones_detallePlanExequial_grupoFamiliar_form_nombre")</label>
                                                                <input type="text" class="form-control" id="iptNombre" name="iptNombre" placeholder="@L("afiliaciones_detallePlanExequial_grupoFamiliar_form_nombre_tooltip")" ng-model="vm.grupoFamiliar.nombre" required maxlength="100" />
                                                                <div ng-show="frmRegistrarGrupoFamiliar.iptNombre.$dirty && frmRegistrarGrupoFamiliar.iptNombre.$invalid">
                                                                    <small ng-show="frmRegistrarGrupoFamiliar.iptNombre.$error.required" class="text-danger">
                                                                        @L("afiliaciones_detallePlanExequial_grupoFamiliar_form_nombre_requerido")
                                                                    </small>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="form-group" ng-class="{'has-error' : frmRegistrarGrupoFamiliar.iptDescripcion.$dirty && frmRegistrarGrupoFamiliar.iptDescripcion.$invalid }">
                                                                <label class="control-label" for="iptDescripcion">@L("afiliaciones_detallePlanExequial_grupoFamiliar_form_descripcion")</label>
                                                                <textarea class="form-control" style="resize: none;" id="iptDescripcion" name="iptDescripcion" placeholder="@L("afiliaciones_detallePlanExequial_grupoFamiliar_form_descripcion_tooltip")"
                                                                          ng-model="vm.grupoFamiliar.descripcion" required maxlength="300" rows="3"></textarea>
                                                                <div ng-show="frmRegistrarGrupoFamiliar.iptDescripcion.$dirty && frmRegistrarGrupoFamiliar.iptDescripcion.$invalid">
                                                                    <small ng-show="frmRegistrarGrupoFamiliar.iptDescripcion.$error.required" class="text-danger">
                                                                        @L("afiliaciones_detallePlanExequial_grupoFamiliar_form_descripcion_requerido")
                                                                    </small>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-4">
                                                            <div class="form-group" ng-class="{'has-error' : frmRegistrarGrupoFamiliar.iptValorBaseAnual.$dirty && frmRegistrarGrupoFamiliar.iptValorBaseAnual.$invalid }">
                                                                <label class="control-label" for="iptValorBaseAnual">@L("afiliaciones_detallePlanExequial_grupoFamiliar_form_valorBase")</label>
                                                                <div class="input-group">
                                                                    <input type="text" class="form-control" id="iptValorBaseAnual" name="iptValorBaseAnual" placeholder="@L("afiliaciones_detallePlanExequial_grupoFamiliar_form_valorBase_tooltip")" ng-model="vm.grupoFamiliar.valorPlan" required maxlength="100"
                                                                           bow-input-numero="{ separadorMil: '.', separadorDecimal: ',', valorMinimo: 0, maximoDecimales: 2 }" />
                                                                    <span class="input-group-addon">{{vm.planExequial.monedaSimbolo}}</span>
                                                                </div>
                                                                <div ng-show="frmRegistrarGrupoFamiliar.iptValorBaseAnual.$dirty && frmRegistrarGrupoFamiliar.iptValorBaseAnual.$invalid">
                                                                    <small ng-show="frmRegistrarGrupoFamiliar.iptValorBaseAnual.$error.required" class="text-danger">
                                                                        @L("afiliaciones_detallePlanExequial_grupoFamiliar_form_valorBase_requerido")
                                                                    </small>
                                                                    <small ng-show="frmRegistrarGrupoFamiliar.iptValorBaseAnual.$error.fcsaNumber" class="text-danger">
                                                                        {{frmRegistrarGrupoFamiliar.iptValorBaseAnual.$error.validacion}}
                                                                    </small>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4 text-center">
                                                            <label class="control-label">@L("afiliaciones_detallePlanExequial_grupoFamiliar_form_tieneCuotaInicial")</label>
                                                            <div>
                                                                <div class="radio-inline c-radio">
                                                                    <label>
                                                                        <input type="radio" name="tieneCuotaInicial" value="1" ng-model="vm.grupoFamiliar.tieneCuotaInicial" ng-click="vm.limpiarCuotaInicial()" title="@L("afiliaciones_detallePlanExequial_grupoFamiliar_form_tieneCuotaInicial_si")">
                                                                        <span class="fa fa-check"></span>@L("afiliaciones_detallePlanExequial_grupoFamiliar_form_tieneCuotaInicial_si")
                                                                    </label>
                                                                </div>
                                                                <div class="radio-inline c-radio">
                                                                    <label>
                                                                        <input type="radio" name="tieneCuotaInicial" value="0" ng-model="vm.grupoFamiliar.tieneCuotaInicial" title="@L("afiliaciones_detallePlanExequial_grupoFamiliar_form_tieneCuotaInicial_no")">
                                                                        <span class="fa fa-close"></span>@L("afiliaciones_detallePlanExequial_grupoFamiliar_form_tieneCuotaInicial_no")
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="form-group" ng-class="{'has-error' : frmRegistrarGrupoFamiliar.iptValorInicial.$dirty && frmRegistrarGrupoFamiliar.iptValorInicial.$invalid }" ng-show="vm.grupoFamiliar.tieneCuotaInicial == '1'">
                                                                <label class="control-label" for="iptValorInicial">@L("afiliaciones_detallePlanExequial_grupoFamiliar_form_valorInicial")</label>
                                                                <div class="input-group">
                                                                    <input type="text" class="form-control" id="iptValorInicial" name="iptValorInicial" placeholder="@L("afiliaciones_detallePlanExequial_grupoFamiliar_form_valorInicial_tooltip")" ng-model="vm.grupoFamiliar.valorCuotaInicial" required maxlength="100" ng-required="vm.grupoFamiliar.tieneCuotaInicial == '1'"
                                                                           bow-input-numero="{ separadorMil: '.', separadorDecimal: ',', valorMinimo: 0, maximoDecimales: 1 }" />
                                                                    <span class="input-group-addon">{{vm.planExequial.monedaSimbolo}}</span>
                                                                </div>
                                                                <div ng-show="frmRegistrarGrupoFamiliar.iptValorInicial.$dirty && frmRegistrarGrupoFamiliar.iptValorInicial.$invalid">
                                                                    <small ng-show="frmRegistrarGrupoFamiliar.iptValorInicial.$error.required" class="text-danger">
                                                                        @L("afiliaciones_detallePlanExequial_grupoFamiliar_form_valorInicial_requerido")
                                                                    </small>
                                                                    <small ng-show="frmRegistrarGrupoFamiliar.iptValorInicial.$error.fcsaNumber" class="text-danger">
                                                                        {{frmRegistrarGrupoFamiliar.iptValorInicial.$error.validacion}}
                                                                    </small>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-4">
                                                            <div class=" form-group" ng-class="{'has-error' : frmRegistrarGrupoFamiliar.iptCantidadAfiliados.$dirty && frmRegistrarGrupoFamiliar.iptCantidadAfiliados.$invalid }">
                                                                <label class="control-label" for="iptCantidadAfiliados">@L("afiliaciones_detallePlanExequial_grupoFamiliar_form_cantidadAfiliados")</label>
                                                                <input type="text" class="form-control" id="iptCantidadAfiliados" name="iptCantidadAfiliados" placeholder="@L("afiliaciones_detallePlanExequial_grupoFamiliar_form_cantidadAfiliados_tooltip")" ng-model="vm.grupoFamiliar.cantidadMaximaAfiliados" required maxlength="100"
                                                                       bow-input-numero="{ separadorMil: '.', valorMinimo: 0, maximoDecimales: 0 }" />
                                                                <div ng-show="frmRegistrarGrupoFamiliar.iptCantidadAfiliados.$dirty && frmRegistrarGrupoFamiliar.iptCantidadAfiliados.$invalid">
                                                                    <small ng-show="frmRegistrarGrupoFamiliar.iptCantidadAfiliados.$error.required" class="text-danger">
                                                                        @L("afiliaciones_detallePlanExequial_grupoFamiliar_form_cantidadAfiliados_requerido")
                                                                    </small>
                                                                    <small ng-show="frmRegistrarGrupoFamiliar.iptCantidadAfiliados.$error.fcsaNumber" class="text-danger">
                                                                        {{frmRegistrarGrupoFamiliar.iptCantidadAfiliados.$error.validacion}}
                                                                    </small>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4 text-center">
                                                            <label class="control-label">@L("afiliaciones_detallePlanExequial_grupoFamiliar_form_afiliadosAdicionales")</label>
                                                            <div>
                                                                <div class="radio-inline c-radio">
                                                                    <label>
                                                                        <input type="radio" name="permitirAfiliadosAdicionales" value="1" ng-model="vm.grupoFamiliar.permitirAfiliadosAdicionales" title="@L("afiliaciones_detallePlanExequial_grupoFamiliar_form_afiliadosAdicionales_si")">
                                                                        <span class="fa fa-check"></span>@L("afiliaciones_detallePlanExequial_grupoFamiliar_form_afiliadosAdicionales_si")
                                                                    </label>
                                                                </div>
                                                                <div class="radio-inline c-radio">
                                                                    <label>
                                                                        <input type="radio" name="permitirAfiliadosAdicionales" value="0" ng-model="vm.grupoFamiliar.permitirAfiliadosAdicionales" title="@L("afiliaciones_detallePlanExequial_grupoFamiliar_form_afiliadosAdicionales_no")">
                                                                        <span class="fa fa-close"></span>@L("afiliaciones_detallePlanExequial_grupoFamiliar_form_afiliadosAdicionales_no")
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="form-group" ng-class="{'has-error' : frmRegistrarGrupoFamiliar.selectedEstado.$dirty && frmRegistrarGrupoFamiliar.selectedEstado.$invalid }" ng-show="vm.accionFormulario == 'Modificar'">
                                                                <label class="control-label" for="selectedEstado">@L("afiliaciones_detallePlanExequial_grupoFamiliar_form_estado")</label>
                                                                <select ng-model="vm.grupoFamiliar.estadoId" ng-options="estado.id as estado.nombre for estado in vm.tiposEstadoGrupoFamiliar" class="form-control" name="selectedEstado" id="selectedEstado" ng-required="vm.accionFormulario == 'Modificar'">
                                                                    <option value="">@L("afiliaciones_detallePlanExequial_grupoFamiliar_form_estado_seleccione")</option>
                                                                </select>
                                                                <div ng-show="frmRegistrarGrupoFamiliar.selectedEstado.$dirty && frmRegistrarGrupoFamiliar.selectedEstado.$invalid">
                                                                    <small ng-show="frmRegistrarGrupoFamiliar.selectedEstado.$error.required" class="text-danger">
                                                                        @L("afiliaciones_detallePlanExequial_grupoFamiliar_form_estado_requerido")
                                                                    </small>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </form>
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <div class="pull-right">
                                                            <button class="btn btn-success btn-circle btn-lg" ng-click="vm.guardarGrupoFamiliar()" ng-disabled="frmRegistrarGrupoFamiliar.$invalid" title="@L("afiliaciones_detallePlanExequial_grupoFamiliar_form_btn_registrar")">
                                                                <em class="fa fa-save"></em>
                                                            </button>
                                                            &nbsp;
                                                            <button class="btn btn-warning btn-circle btn-lg" ng-click="vm.mostrarFormularioGrupo(false)" title="@L("afiliaciones_detallePlanExequial_grupoFamiliar_form_btn_cancelar")">
                                                                <em class="fa fa-close"></em>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" ng-show="vm.formularioParentescoVisible">
                                            <div class="col-md-6">
                                                <h4>@L("afiliaciones_detallePlanExequial_parentescos_titulo")  <strong>{{vm.grupoFamiliar.nombre}}</strong></h4>
                                            </div>
                                            <div class="col-md-6 text-right">
                                                <button class="btn btn-success btn-circle btn-lg" ng-click="vm.verFormularioNuevoParentesco(true)" title="@L("")Agregar parentesco">
                                                    <em class="fa fa-plus"></em>
                                                </button>
                                            </div>
                                            <div class="col-md-12" ng-show="vm.formularioParentescoNuevoVisible">
                                                <form role="form" name="frmRegistrarParentescoGrupoFamiliar">
                                                    <input id="frmRegistrarParentescoOculto" ng-model="vm.data.frmRegistrarParentescoGrupoFamiliar" ng-init="vm.data.frmRegistrarParentescoGrupoFamiliar=frmRegistrarParentescoGrupoFamiliar" hidden>
                                                    <div class="row">
                                                        <div class="col-lg-12 text-center bow-padding-bottom-10">
                                                            <h4 class="media-heading" ng-class="'text-' + app.theme.name" ng-if="vm.accionFormularioParentesco == 'Guardar'">@L("")Nuevo Rango Parentesco</h4>
                                                            <h4 class="media-heading" ng-class="'text-' + app.theme.name" ng-if="vm.accionFormularioParentesco == 'Modificar'">@L("")Editando Rango Parentesco</h4>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-4">
                                                            <div class="form-group" ng-class="{'has-error' : frmRegistrarParentescoGrupoFamiliar.selectedParentesco.$dirty && frmRegistrarParentescoGrupoFamiliar.selectedParentesco.$invalid }">
                                                                <label class="control-label" for="selectedParentesco">@L("afiliaciones_detallePlanExequial_parentescos_form_nombre")</label>
                                                                <select ng-model="vm.grupoFamiliarParentesco.parentescoId" ng-options="parentesco.id as parentesco.nombre for parentesco in vm.tiposParentesco" ng-disabled="vm.accionFormularioParentesco == 'Modificar'"
                                                                        ng-change="vm.cambiarParentescoGrupoFamiliar()" class="form-control" name="selectedParentesco" id="selectedParentesco" required>
                                                                    <option value="">@L("afiliaciones_detallePlanExequial_parentescos_form_nombre_seleccione")</option>
                                                                </select>
                                                                <div ng-show="frmRegistrarParentescoGrupoFamiliar.selectedParentesco.$dirty && frmRegistrarParentescoGrupoFamiliar.selectedParentesco.$invalid">
                                                                    <small ng-show="frmRegistrarParentescoGrupoFamiliar.selectedParentesco.$error.required" class="text-danger">
                                                                        @L("afiliaciones_detallePlanExequial_parentescos_form_nombre_requerido")
                                                                    </small>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4 text-center">
                                                            <label class="control-label">@L("afiliaciones_detallePlanExequial_parentescos_form_validarSoloIngreso")</label>
                                                            <div>
                                                                <div class="radio-inline c-radio">
                                                                    <label>
                                                                        <input type="radio" name="validarSoloIngreso" value="1" ng-model="vm.grupoFamiliarParentesco.validarSoloIngreso">
                                                                        <span class="fa fa-check"></span>@L("afiliaciones_detallePlanExequial_parentescos_form_validarSoloIngreso_si")
                                                                    </label>
                                                                </div>
                                                                <div class="radio-inline c-radio">
                                                                    <label>
                                                                        <input type="radio" name="validarSoloIngreso" value="0" ng-model="vm.grupoFamiliarParentesco.validarSoloIngreso">
                                                                        <span class="fa fa-close"></span>@L("afiliaciones_detallePlanExequial_parentescos_form_validarSoloIngreso_no")
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="form-group" ng-class="{'has-error' : frmRegistrarParentescoGrupoFamiliar.iptNombre.$dirty && frmRegistrarParentescoGrupoFamiliar.iptEdadMinima.$invalid }">
                                                                <label class="control-label" for="iptEdadMinima">@L("afiliaciones_detallePlanExequial_parentescos_form_edad")</label>
                                                                <div class="row">
                                                                    <div class="col-md-6">
                                                                        <input type="text" class="form-control" id="iptEdadMinima" name="iptEdadMinima" placeholder="@L("afiliaciones_detallePlanExequial_parentescos_form_edadMinima_tooltip")" ng-model="vm.grupoParentescoRango.edadMinima" required maxlength="100"
                                                                               bow-input-numero="{ separadorMil: '.', valorMinimo: 0, maximoDecimales: 0 }" />
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <input type="text" class="form-control" id="iptEdadMaxima" name="iptEdadMaxima" placeholder="@L("afiliaciones_detallePlanExequial_parentescos_form_edadMaxima_tooltip")" ng-model="vm.grupoParentescoRango.edadMaxima" required maxlength="100"
                                                                               bow-input-numero="{ separadorMil: '.', valorMinimo: 0, maximoDecimales: 0 }" />
                                                                    </div>
                                                                </div>
                                                                <div ng-show="frmRegistrarParentescoGrupoFamiliar.iptEdadMinima.$dirty && frmRegistrarParentescoGrupoFamiliar.iptEdadMinima.$invalid">
                                                                    <small ng-show="frmRegistrarParentescoGrupoFamiliar.iptEdadMinima.$error.required" class="text-danger">
                                                                        @L("afiliaciones_detallePlanExequial_parentescos_form_edadMinima_requerido")
                                                                    </small>
                                                                    <small ng-show="frmRegistrarParentescoGrupoFamiliar.iptEdadMinima.$error.fcsaNumber" class="text-danger">
                                                                        {{frmRegistrarParentescoGrupoFamiliar.iptEdadMinima.$error.validacion}}
                                                                    </small>
                                                                </div>
                                                                <div ng-show="frmRegistrarParentescoGrupoFamiliar.iptEdadMaxima.$dirty && frmRegistrarParentescoGrupoFamiliar.iptEdadMaxima.$invalid">
                                                                    <small ng-show="frmRegistrarParentescoGrupoFamiliar.iptEdadMaxima.$error.required" class="text-danger">
                                                                        @L("afiliaciones_detallePlanExequial_parentescos_form_edadMaxima_requerido")
                                                                    </small>
                                                                    <small ng-show="frmRegistrarParentescoGrupoFamiliar.iptEdadMaxima.$error.fcsaNumber" class="text-danger">
                                                                        {{frmRegistrarParentescoGrupoFamiliar.iptEdadMaxima.$error.validacion}}
                                                                    </small>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-4">
                                                            <div class="form-group" ng-class="{'has-error' : frmRegistrarParentescoGrupoFamiliar.iptPeriodoCarencia.$dirty && frmRegistrarParentescoGrupoFamiliar.iptPeriodoCarencia.$invalid }">
                                                                <label class="control-label" for="iptPeriodoCarencia">@L("afiliaciones_detallePlanExequial_parentescos_form_periodoCarencia")</label>
                                                                <div>
                                                                    <div class="radio-inline c-radio">
                                                                        <label>
                                                                            <input type="radio" name="unidadPeriodoCarencia" value="M" ng-model="vm.grupoParentescoRango.unidadPeriodoCarencia">
                                                                            <span class="fa fa-calendar"></span>@L("afiliaciones_detallePlanExequial_parentescos_form_periodoCarencia_meses")
                                                                        </label>
                                                                    </div>
                                                                    <div class="radio-inline c-radio">
                                                                        <label>
                                                                            <input type="radio" name="unidadPeriodoCarencia" value="D" ng-model="vm.grupoParentescoRango.unidadPeriodoCarencia">
                                                                            <span class="fa fa-calendar-o"></span>@L("afiliaciones_detallePlanExequial_parentescos_form_periodoCarencia_dias")
                                                                        </label>
                                                                    </div>
                                                                </div>
                                                                <input type="text" class="form-control" id="iptPeriodoCarencia" name="iptPeriodoCarencia" placeholder="@L("afiliaciones_detallePlanExequial_parentescos_form_periodoCarencia_tooltip")" ng-model="vm.grupoParentescoRango.periodoCarencia"
                                                                       bow-input-numero="{ separadorMil: '.', valorMinimo: 0, maximoDecimales: 0 }" />
                                                                <div ng-show="frmRegistrarParentescoGrupoFamiliar.iptPeriodoCarencia.$dirty && frmRegistrarParentescoGrupoFamiliar.iptPeriodoCarencia.$invalid">
                                                                    <small ng-show="frmRegistrarParentescoGrupoFamiliar.iptPeriodoCarencia.$error.required" class="text-danger">
                                                                        @L("afiliaciones_detallePlanExequial_parentescos_form_periodoCarencia_requerido")
                                                                    </small>
                                                                    <small ng-show="frmRegistrarParentescoGrupoFamiliar.iptPeriodoCarencia.$error.fcsaNumber" class="text-danger">
                                                                        {{frmRegistrarParentescoGrupoFamiliar.iptPeriodoCarencia.$error.validacion}}
                                                                    </small>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="form-group" ng-class="{'has-error' : frmRegistrarParentescoGrupoFamiliar.iptValorBasico.$dirty && frmRegistrarParentescoGrupoFamiliar.iptValorBasico.$invalid }">
                                                                <label class="control-label" for="iptValorBasico">@L("afiliaciones_detallePlanExequial_parentescos_form_valorBasico")</label>
                                                                <div>
                                                                    <div class="radio-inline c-radio">
                                                                        <label>
                                                                            <input type="radio" name="tipoValorBasico" value="V" ng-model="vm.grupoParentescoRango.tipoValorBasico">
                                                                            <span class="fa fa-dollar"></span>@L("afiliaciones_detallePlanExequial_parentescos_form_valorBasico_valor")
                                                                        </label>
                                                                    </div>
                                                                    <div class="radio-inline c-radio">
                                                                        <label>
                                                                            <input type="radio" name="tipoValorBasico" value="P" ng-model="vm.grupoParentescoRango.tipoValorBasico">
                                                                            <span class="fa fa-deviantart"></span>@L("afiliaciones_detallePlanExequial_parentescos_form_valorBasico_porcentaje")
                                                                        </label>
                                                                    </div>
                                                                </div>
                                                                <div class="input-group">
                                                                    <input type="text" class="form-control" id="iptValorBasico" name="iptValorBasico" placeholder="@L("afiliaciones_detallePlanExequial_parentescos_form_valorBasico_tooltip")" ng-model="vm.grupoParentescoRango.valorBasico" required maxlength="100"
                                                                           bow-input-numero="{ separadorMil: '.', valorMinimo: 0, maximoDecimales: 0 }" />
                                                                    <span class="input-group-addon"><span ng-show="vm.grupoParentescoRango.tipoValorBasico == 'V'">{{vm.planExequial.monedaSimbolo}}</span><span ng-hide="vm.grupoParentescoRango.tipoValorBasico == 'V'">@L("afiliaciones_detallePlanExequial_parentescos_form_valorBasico_%")</span></span>
                                                                </div>
                                                                <div ng-show="frmRegistrarParentescoGrupoFamiliar.iptValorBasico.$dirty && frmRegistrarParentescoGrupoFamiliar.iptValorBasico.$invalid">
                                                                    <small ng-show="frmRegistrarParentescoGrupoFamiliar.iptValorBasico.$error.required" class="text-danger">
                                                                        @L("afiliaciones_detallePlanExequial_parentescos_form_valorBasico_requerido")
                                                                    </small>
                                                                    <small ng-show="frmRegistrarParentescoGrupoFamiliar.iptValorBasico.$error.fcsaNumber" class="text-danger">
                                                                        {{frmRegistrarParentescoGrupoFamiliar.iptValorBasico.$error.validacion}}
                                                                    </small>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="form-group" ng-class="{'has-error' : frmRegistrarParentescoGrupoFamiliar.iptValorAdicional.$dirty && frmRegistrarParentescoGrupoFamiliar.iptValorAdicional.$invalid }">
                                                                <label class="control-label" for="iptValorBasico">@L("afiliaciones_detallePlanExequial_parentescos_form_valorAdicional")</label>
                                                                <div>
                                                                    <div class="radio-inline c-radio">
                                                                        <label>
                                                                            <input type="radio" name="tipoValorAdicional" value="V" ng-model="vm.grupoParentescoRango.tipoValorAdicional">
                                                                            <span class="fa fa-dollar"></span>@L("afiliaciones_detallePlanExequial_parentescos_form_valorAdicional_valor")
                                                                        </label>
                                                                    </div>
                                                                    <div class="radio-inline c-radio">
                                                                        <label>
                                                                            <input type="radio" name="tipoValorAdicional" value="P" ng-model="vm.grupoParentescoRango.tipoValorAdicional">
                                                                            <span class="fa fa-deviantart"></span>@L("afiliaciones_detallePlanExequial_parentescos_form_valorAdicional_porcentaje")
                                                                        </label>
                                                                    </div>
                                                                </div>
                                                                <div class="input-group">
                                                                    <input type="text" class="form-control" id="iptValorAdicional" name="iptValorAdicional" placeholder="@L("afiliaciones_detallePlanExequial_parentescos_form_valorAdicional")" ng-model="vm.grupoParentescoRango.valorAdicional" required maxlength="100"
                                                                           bow-input-numero="{ separadorMil: '.', valorMinimo: 0, maximoDecimales: 0 }" />
                                                                    <span class="input-group-addon"><span ng-show="vm.grupoParentescoRango.tipoValorAdicional == 'V'">{{vm.planExequial.monedaSimbolo}}</span><span ng-hide="vm.grupoParentescoRango.tipoValorAdicional == 'V'">@L("afiliaciones_detallePlanExequial_parentescos_form_valorAdicional_%")</span></span>
                                                                </div>
                                                                <div ng-show="frmRegistrarParentescoGrupoFamiliar.iptValorAdicional.$dirty && frmRegistrarParentescoGrupoFamiliar.iptValorAdicional.$invalid">
                                                                    <small ng-show="frmRegistrarParentescoGrupoFamiliar.iptValorAdicional.$error.required" class="text-danger">
                                                                        @L("afiliaciones_detallePlanExequial_parentescos_form_valorAdicional_requerido")
                                                                    </small>
                                                                    <small ng-show="frmRegistrarParentescoGrupoFamiliar.iptValorAdicional.$error.fcsaNumber" class="text-danger">
                                                                        {{frmRegistrarParentescoGrupoFamiliar.iptValorAdicional.$error.validacion}}
                                                                    </small>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </form>
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <div class="pull-right">
                                                            <button class="btn btn-success btn-circle btn-lg" ng-click="vm.guardarRangoParentesco()" ng-disabled="frmRegistrarParentescoGrupoFamiliar.$invalid" title="@L("afiliaciones_detallePlanExequial_parentescos_form_btn_registrar")">
                                                                <em class="fa fa-save"></em>
                                                            </button>
                                                            &nbsp;
                                                            <button class="btn btn-warning btn-circle btn-lg" ng-click="vm.verFormularioNuevoParentesco(false)" title="@L("afiliaciones_detallePlanExequial_parentescos_form_btn_cancelar")">
                                                                <em class="fa fa-close"></em>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <label class="control-label"> {{vm.grupoFamiliarParentesco.parentesco}} </label>
                                                <div class="table-responsive">
                                                    <table class="table table-hover">
                                                        <tbody>
                                                            <tr ng-repeat="rango in vm.rangosGrupoParentesco"
                                                                ng-mouseenter="vm.controlesRangoGrupo.mostrar($index)"
                                                                ng-mouseleave="vm.controlesRangoGrupo.ocultar($index)">
                                                                <td>
                                                                    <h4 class="media-heading">
                                                                        {{rango.parentescoNombre}}
                                                                    </h4>
                                                                    <div class="text-muted" ng-show="rango.parentescoValidaIngreso == '1'">
                                                                        @L("")Validar solo ingreso
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <h5 class="media-heading">
                                                                        @L("afiliaciones_detallePlanExequial_parentescos_tabla_edades")
                                                                    </h5>
                                                                    <div class="text-muted">
                                                                        {{rango.edadMinima}} - {{rango.edadMaxima}} @L("afiliaciones_detallePlanExequial_parentescos_tabla_anios")
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <h5 class="media-heading">
                                                                        @L("afiliaciones_detallePlanExequial_parentescos_tabla_carencia")
                                                                    </h5>
                                                                    <div class="text-muted">
                                                                        {{rango.periodoCarencia}} <span ng-show="rango.unidadPeriodoCarencia == 'M'">@L("afiliaciones_detallePlanExequial_parentescos_tabla_meses")</span><span ng-show="rango.unidadPeriodoCarencia == 'D'">@L("afiliaciones_detallePlanExequial_parentescos_tabla_dias")</span>
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <h5 class="media-heading">
                                                                        @L("afiliaciones_detallePlanExequial_parentescos_tabla_valorBase"):
                                                                        <span class="text-muted">
                                                                            <span ng-show="rango.tipoValorBasico == 'V'">{{rango.valorBasico | currency:"$ ":0}}</span><span ng-hide="rango.tipoValorBasico == 'V'">{{rango.valorBasico}} %</span>
                                                                        </span>
                                                                    </h5>
                                                                    <h5 class="media-heading">
                                                                        @L("afiliaciones_detallePlanExequial_parentescos_tabla_valorAdicional"):
                                                                        <span class="text-muted">
                                                                            <span ng-show="rango.tipoValorAdicional == 'V'">{{rango.valorAdicional | currency:"$ ":0}}</span><span ng-hide="rango.tipoValorAdicional == 'V'">{{rango.valorAdicional}} %</span>
                                                                        </span>
                                                                    </h5>
                                                                </td>
                                                                <td class="text-center">
                                                                    <span ng-show="vm.controlesRangoGrupo.visible[$index]" class="pull-right">
                                                                        <bow-operacion-editar-fila operacion-editar="vm.editarRangoParentesco(rango.id)"
                                                                                                   mensaje-tooltip="@L("afiliaciones_detallePlanExequial_parentescos_tabla_editar")"
                                                                                                   ng-show="!vm.eliminadoRangoParentesco">
                                                                        </bow-operacion-editar-fila>
                                                                        <bow-operacion-eliminar-fila mensaje-confirmacion="@L("afiliaciones_detallePlanExequial_parentescos_tabla_confirmacion")"
                                                                                                     mensaje-tooltip="@L("afiliaciones_detallePlanExequial_parentescos_tabla_eliminar")"
                                                                                                     operacion-puede-eliminar="vm.puedeEliminarRangoParentesco(rango.id, funcionRetornarPuedeEliminar)"
                                                                                                     no-puede-eliminar="vm.noPuedeEliminarRangoParentesco()"
                                                                                                     confirmacion-ok="vm.eliminarRangoParentesco(rango.id)"
                                                                                                     confirmacion-cancel="vm.cancelarEliminarRangoParentesco()">
                                                                        </bow-operacion-eliminar-fila>
                                                                    </span>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="pull-right">
                                                    <button class="btn btn-warning btn-circle btn-lg" ng-click="vm.mostrarParentesco(null, null, false)" title="@L("afiliaciones_detallePlanExequial_parentescos_form_btn_cancelar")">
                                                        <em class="fa fa-close"></em>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" ng-show="vm.formularioConsultaVisible">
                                            <div class="col-md-12">
                                                <h3>{{vm.grupoFamiliar.nombre}}</h3>
                                                <h4>{{vm.grupoFamiliar.descripcion}}</h4>
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <label class="control-label">@L("afiliaciones_detallePlanExequial_parentescos_consulta_valorBase")</label>
                                                        {{vm.grupoFamiliar.valorPlan | currency:"$ ":0}}
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label class="control-label">@L("afiliaciones_detallePlanExequial_parentescos_consulta_cuotaInicial")</label>
                                                        <span ng-show="vm.grupoFamiliar.tieneCuotaInicial == '1'">{{vm.grupoFamiliar.valorCuotaInicial | currency:"$ ":0}}</span>
                                                        <span ng-show="vm.grupoFamiliar.tieneCuotaInicial == '0'">@L("afiliaciones_detallePlanExequial_parentescos_consulta_cuotaInicial_no")</span>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <label class="control-label">@L("afiliaciones_detallePlanExequial_parentescos_consulta_cantidadAfiliados")</label>
                                                        {{vm.grupoFamiliar.cantidadMaximaAfiliados}}
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label class="control-label">@L("afiliaciones_detallePlanExequial_parentescos_consulta_permiteAdicionales")</label>
                                                        <span ng-show="vm.grupoFamiliar.permitirAfiliadosAdicionales == '1'">@L("afiliaciones_detallePlanExequial_parentescos_consulta_permiteAdicionales_si")</span>
                                                        <span ng-show="vm.grupoFamiliar.permitirAfiliadosAdicionales == '0'">@L("afiliaciones_detallePlanExequial_parentescos_consulta_permiteAdicionales_no")</span>
                                                    </div>
                                                </div>
                                                <h4 ng-hide="vm.consultaParentescosYRangos.parentescos.length == '0'">@L("afiliaciones_detallePlanExequial_parentescos_consulta_parentescos_titulo")</h4>
                                                <div ng-repeat="parentesco in vm.consultaParentescosYRangos.parentescos">
                                                    <label class="control-label">{{parentesco.nombreParentesco}}</label><span ng-show="parentesco.validarSoloIngreso == '1'">( @L("afiliaciones_detallePlanExequial_parentescos_consulta_validadoIngreso") )</span>
                                                    <table class="table table-responsive table-striped table-hover">
                                                        <thead>
                                                            <tr>
                                                                <th>@L("afiliaciones_detallePlanExequial_parentescos_consulta_tabla_edades")</th>
                                                                <th>@L("afiliaciones_detallePlanExequial_parentescos_consulta_tabla_carencia")</th>
                                                                <th>@L("afiliaciones_detallePlanExequial_parentescos_consulta_tabla_valorBase")</th>
                                                                <th>@L("afiliaciones_detallePlanExequial_parentescos_consulta_tabla_valorAdicional")</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr ng-repeat="rango in parentesco.rangos">
                                                                <td>
                                                                    {{rango.edadMinima}} - {{rango.edadMaxima}} @L("afiliaciones_detallePlanExequial_parentescos_consulta_tabla_anios")
                                                                </td>
                                                                <td>
                                                                    {{rango.periodoCarencia}} <span ng-show="rango.unidadPeriodoCarencia == 'M'">@L("afiliaciones_detallePlanExequial_parentescos_consulta_tabla_meses")</span><span ng-show="rango.unidadPeriodoCarencia == 'D'">@L("afiliaciones_detallePlanExequial_parentescos_consulta_tabla_dias")</span>
                                                                </td>
                                                                <td>
                                                                    <span ng-show="rango.tipoValorBasico == 'V'">{{rango.valorBasico | currency:"$ ":0}}</span><span ng-hide="rango.tipoValorBasico == 'V'">{{rango.valorBasico}} @L("afiliaciones_detallePlanExequial_parentescos_consulta_tabla_%")</span>
                                                                </td>
                                                                <td>
                                                                    <span ng-show="rango.tipoValorAdicional == 'V'">{{rango.valorAdicional | currency:"$ ":0}}</span><span ng-hide="rango.tipoValorAdicional == 'V'">{{rango.valorAdicional}} @L("afiliaciones_detallePlanExequial_parentescos_consulta_tabla_%")</span>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-12 text-right">
                                                        <button class="btn btn-warning btn-circle btn-lg" ng-click="vm.ocultarConsultaParentesco()" title="@L("")Cancelar">
                                                            <em class="fa fa-close"></em>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-10" ng-if="vm.opcionParametro[1]">
                        <div class="p">
                            <div class="row">
                                <div class="col-md-12 text-center text-bold bow-margin-bottom-10 fa-2x">
                                    {{vm.planExequialNombreSelected}}
                                </div>
                            </div>
                            <div class="panel panel-purple">
                                <div class="panel-heading">
                                    @L("afiliaciones_detallePlanExequial_pestanas_beneficios")
                                </div>
                                <div class="panel-body">
                                    <div ng-show="vm.planExequialIdSelected">
                                        <div class="row" ng-show="!vm.formularioBeneficioVisible">
                                            <div class="col-md-5 text-center bow-padding-top-10" ng-repeat="grupoBeneficio in vm.gruposBeneficios">
                                                <div class="radio-inline c-radio" title="@L("afiliaciones_beneficios_grupos_consultarBeneficios")">
                                                    <label>
                                                        <input type="radio" name="radioGrupoBeneficio" value="{{grupoBeneficio.nombre}}" ng-model="vm.radioGrupoBeneficio" ng-click="vm.consultarBeneficiosPlanExequial(grupoBeneficio.id, grupoBeneficio.nombre)">
                                                        <span class="fa fa-check"></span>{{grupoBeneficio.nombre}}  ( {{grupoBeneficio.numeroBeneficiosPlanExequial}} )
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-md-2 text-right bow-padding-bottom-10">
                                                <button class="btn btn-success btn-circle btn-lg" ng-disabled="!vm.radioGrupoBeneficio" ng-click="vm.mostrarDirectivaBeneficios(true)" title="@L("afiliaciones_beneficios_btn_nuevo") {{vm.grupoBeneficioNombreSeleccionado}}">
                                                    <em class="fa fa-plus"></em>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="row" ng-show="vm.formularioBeneficioVisible">
                                            <div class="col-md-12 media-heading text-center">
                                                <h4>@L("")Nuevo Beneficio: {{vm.grupoBeneficioNombreSeleccionado}}</h4>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="row" ng-show="vm.formularioBeneficioVisible">
                                                    <div class="col-md-12">
                                                        <div class="row" ng-show="!vm.formularioNuevoBeneficioVisible">
                                                            <div class="col-md-12">
                                                                <bow-categoria-beneficio bow-beneficio-seleccionado="vm.mostrarBeneficios(beneficio)" bow-ocultar-formulario="vm.mostrarDirectivaBeneficios(mostrar)" grupo-beneficio-seleccionado="vm.grupoBeneficioNombreSeleccionado" listado-beneficios-agregados="vm.listadoBeneficios" listado-todos-los-beneficios="vm.listadoTodosLosBeneficios" mostrar-mensaje-categoria-asignada="vm.mostrarMensajeCategoria(mensaje)" plan-exequial-id="vm.grupoFamiliar.planExequialId" control="vm.limpiarCatagoriasBeneficios"></bow-categoria-beneficio>
                                                            </div>
                                                        </div>
                                                        <div class="row" ng-show="vm.formularioNuevoBeneficioVisible">
                                                            <div class="col-md-12">
                                                                <br />
                                                                <form role="form" name="frmRegistrarBeneficio" ng-show="vm.grupoBeneficioNombreSeleccionado == 'Propio'">
                                                                    <input id="frmRegistrarBeneficioOculto" ng-model="vm.data.frmRegistrarBeneficio" ng-init="vm.data.frmRegistrarBeneficio = frmRegistrarBeneficio" hidden>
                                                                    <div class="row">
                                                                        <div class="col-md-12 text-right" ng-show="vm.accionFormularioBeneficio == 'Registrar'">
                                                                            <button class="btn btn-warning btn-circle btn-lg" ng-click="vm.mostrarDirectivaBeneficios(true)" title="@L("afiliaciones_beneficios_form_volver")">
                                                                                <em class="fa fa-backward"></em>
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="col-md-6">
                                                                            <label class="control-label">{{vm.beneficio.beneficioNombre}} ( {{vm.beneficio.categoriaNombre}} )</label>
                                                                            <h5>{{vm.beneficio.beneficioDescripcion}}</h5>
                                                                        </div>
                                                                        <div class="col-md-3 text-center">
                                                                            <label class="control-label">@L("afiliaciones_beneficios_form_esAsignable")</label>
                                                                            <div>
                                                                                <div class="radio-inline c-radio">
                                                                                    <label>
                                                                                        <input type="radio" name="esAsignable" value="true" ng-model="vm.beneficioPlanExequial.esAsignable">
                                                                                        <span class="fa fa-check"></span>@L("afiliaciones_beneficios_form_esAsignable_si")
                                                                                    </label>
                                                                                </div>
                                                                                <div class="radio-inline c-radio">
                                                                                    <label>
                                                                                        <input type="radio" name="esAsignable" value="false" ng-model="vm.beneficioPlanExequial.esAsignable">
                                                                                        <span class="fa fa-close"></span>@L("afiliaciones_beneficios_form_esAsignable_no")
                                                                                    </label>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-3 text-center" ng-show="vm.beneficioPlanExequial.esAsignable">
                                                                            <div class=" form-group" ng-class="{'has-error' : frmRegistrarBeneficio.iptCantidadAsignables.$dirty && frmRegistrarBeneficio.iptCantidadAsignables.$invalid }">
                                                                                <label class="control-label" for="iptCantidadAsignables">@L("afiliaciones_beneficios_form_cantidadAsignables")</label>
                                                                                <input type="text" class="form-control" id="iptCantidadAsignables" name="iptCantidadAsignables" placeholder="@L("afiliaciones_beneficios_form_cantidadAsignables_placeholder")" ng-model="vm.beneficioPlanExequial.asignables" ng-required="vm.beneficioPlanExequial.esAsignable"
                                                                                       bow-input-numero="{ separadorMil: '.', valorMinimo: 0, maximoDecimales: 0 }" />
                                                                                <div ng-show="frmRegistrarBeneficio.iptCantidadAsignables.$dirty && frmRegistrarBeneficio.iptCantidadAsignables.$invalid">
                                                                                    <small ng-show="frmRegistrarBeneficio.iptCantidadAsignables.$error.required" class="text-danger">
                                                                                        @L("afiliaciones_beneficios_form_cantidadAsignables_requerido")
                                                                                    </small>
                                                                                    <small ng-show="frmRegistrarBeneficio.iptCantidadAsignables.$error.fcsaNumber" class="text-danger">
                                                                                        {{frmRegistrarBeneficio.iptCantidadAsignables.$error.validacion}}
                                                                                    </small>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </form>
                                                                <form role="form" name="frmRegistrarBeneficioAdicional" ng-show="vm.grupoBeneficioNombreSeleccionado == 'Adicional'">
                                                                    <input id="frmRegistrarBeneficioAdicionalOculto" ng-model="vm.data.frmRegistrarBeneficioAdicional" ng-init="vm.data.frmRegistrarBeneficioAdicional = frmRegistrarBeneficioAdicional" hidden>
                                                                    <div class="row">
                                                                        <div class="col-md-12 text-right" ng-show="vm.accionFormularioBeneficio == 'Registrar'">
                                                                            <button class="btn btn-warning btn-circle btn-lg" ng-click="vm.mostrarDirectivaBeneficios(true)" title="@L("afiliaciones_beneficios_form_volver")">
                                                                                <em class="fa fa-backward"></em>
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="col-md-6">
                                                                            <label class="control-label">{{vm.beneficio.beneficioNombre}} ( {{vm.beneficio.categoriaNombre}} )</label>
                                                                            <h5>{{vm.beneficio.beneficioDescripcion}}</h5>
                                                                        </div>
                                                                        <div class="col-md-3 text-center">
                                                                            <label class="control-label">@L("afiliaciones_beneficios_form_esAsignable")</label>
                                                                            <div>
                                                                                <div class="radio-inline c-radio">
                                                                                    <label>
                                                                                        <input type="radio" name="esAsignable" value="true" ng-model="vm.beneficioAdicionalPlanExequial.esAsignable" ng-click="vm.limpiarCantidadAsignados()">
                                                                                        <span class="fa fa-check"></span>@L("afiliaciones_beneficios_form_esAsignable_si")
                                                                                    </label>
                                                                                </div>
                                                                                <div class="radio-inline c-radio">
                                                                                    <label>
                                                                                        <input type="radio" name="esAsignable" value="false" ng-model="vm.beneficioAdicionalPlanExequial.esAsignable">
                                                                                        <span class="fa fa-close"></span>@L("afiliaciones_beneficios_form_esAsignable_no")
                                                                                    </label>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-3 text-center" ng-show="vm.beneficioAdicionalPlanExequial.esAsignable == 'true'">
                                                                            <div class=" form-group" ng-class="{'has-error' : frmRegistrarBeneficioAdicional.iptCantidadAsignables.$dirty && frmRegistrarBeneficioAdicional.iptCantidadAsignables.$invalid }">
                                                                                <label class="control-label" for="iptCantidadAsignables">@L("afiliaciones_beneficios_form_cantidadAsignables")</label>
                                                                                <input type="text" class="form-control" id="iptCantidadAsignables" name="iptCantidadAsignables" placeholder="@L("afiliaciones_beneficios_form_cantidadAsignables_placeholder")" ng-model="vm.beneficioAdicionalPlanExequial.asignables" ng-required="vm.beneficioAdicionalPlanExequial.esAsignable"
                                                                                       bow-input-numero="{ separadorMil: '.', valorMinimo: 0, maximoDecimales: 0 }" />
                                                                                <div ng-show="frmRegistrarBeneficioAdicional.iptCantidadAsignables.$dirty && frmRegistrarBeneficioAdicional.iptCantidadAsignables.$invalid">
                                                                                    <small ng-show="frmRegistrarBeneficioAdicional.iptCantidadAsignables.$error.required" class="text-danger">
                                                                                        @L("afiliaciones_beneficios_form_cantidadAsignables_requerido")
                                                                                    </small>
                                                                                    <small ng-show="frmRegistrarBeneficioAdicional.iptCantidadAsignables.$error.fcsaNumber" class="text-danger">
                                                                                        {{frmRegistrarBeneficioAdicional.iptCantidadAsignables.$error.validacion}}
                                                                                    </small>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="col-md-6">
                                                                            <div class="form-group" ng-class="{'has-error' : frmRegistrarBeneficioAdicional.selectedReemplazable.$dirty && frmRegistrarBeneficioAdicional.selectedReemplazable.$invalid }">
                                                                                <label class="control-label" for="selectedReemplazable">@L("afiliaciones_beneficios_form_reemplazaBeneficio")</label>
                                                                                <select ng-model="vm.beneficioAdicionalPlanExequial.beneficioPlanExequialId" ng-options="to.id as to.nombre for to in vm.listadoBeneficiosPropios" class="form-control" name="selectedReemplazable" id="selectedReemplazable"
                                                                                        ng-change="vm.validarNaturalezaEmpresa()" ng-disabled="vm.modoConsulta">
                                                                                    <option value="">@L("afiliaciones_beneficios_form_reemplazaBeneficio_seleccione")</option>
                                                                                </select>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <div class="form-group" ng-class="{'has-error' : frmRegistrarBeneficioAdicional.iptValorBeneficio.$dirty && frmRegistrarBeneficioAdicional.iptValorBeneficio.$invalid }">
                                                                                <label class="control-label" for="iptValorBeneficio">@L("afiliaciones_beneficios_form_valor")</label>
                                                                                <div class="input-group">
                                                                                    <input type="text" class="form-control" id="iptValorBeneficio" name="iptValorBeneficio" placeholder="@L("afiliaciones_beneficios_form_valor_placeholder")" ng-model="vm.beneficioAdicionalPlanExequial.valor"
                                                                                           required bow-input-numero="{ separadorMil: '.', valorMinimo: 0, maximoDecimales: 0 }" />
                                                                                    <span class="input-group-addon">{{vm.planExequial.monedaSimbolo}}</span>
                                                                                </div>
                                                                                <div ng-show="frmRegistrarBeneficioAdicional.iptValorBeneficio.$dirty && frmRegistrarBeneficioAdicional.iptValorBeneficio.$invalid">
                                                                                    <small ng-show="frmRegistrarBeneficioAdicional.iptValorBeneficio.$error.required" class="text-danger">
                                                                                        @L("afiliaciones_beneficios_form_valor_requerido")
                                                                                    </small>
                                                                                    <small ng-show="frmRegistrarBeneficioAdicional.iptValorBeneficio.$error.fcsaNumber" class="text-danger">
                                                                                        {{frmRegistrarBeneficioAdicional.iptValorBeneficio.$error.validacion}}
                                                                                    </small>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </form>
                                                                <div class="row">
                                                                    <div class="col-md-12 text-right">
                                                                        <button class="btn btn-success btn-circle btn-lg" ng-click="vm.mostrarConfirmacionBeneficioPropio(true)" ng-show="!vm.confirmacionBeneficioPropioVisible" ng-disabled="(frmRegistrarBeneficio.$invalid && vm.grupoBeneficioNombreSeleccionado == 'Propio') || (frmRegistrarBeneficioAdicional.$invalid && vm.grupoBeneficioNombreSeleccionado == 'Adicional')" title="{{vm.accionFormularioBeneficio}} @L("afiliaciones_beneficios_form_btn_guardar_modificar")">
                                                                            <em class="fa fa-save"></em>
                                                                        </button>
                                                                        <div class="row" ng-show="vm.confirmacionBeneficioPropioVisible">
                                                                            <div class="col-md-12">
                                                                                <span ng-show="vm.mostrarMensajeCategoriaYaAsignada == 'P'">
                                                                                    @L("afiliaciones_beneficios_form_guardar_validacion_beneficioYaExiste")
                                                                                </span>
                                                                                <span ng-show="vm.mostrarMensajeCategoriaYaAsignada == 'A'">
                                                                                    @L("afiliaciones_beneficios_form_guardar_validacion_beneficioAdicionalYaExiste")
                                                                                </span>
                                                                            </div>
                                                                            <div class="col-md-12 text-right">
                                                                                <button class="btn btn-success btn-circle btn-lg" ng-click="vm.guardarBeneficioPlanExequial()" title="@L("afiliaciones_beneficios_form_guardar_validacion_btn_continuar")">
                                                                                    <em class="fa fa-check"></em>
                                                                                </button>
                                                                                <button class="btn btn-warning btn-circle btn-lg" ng-click="vm.mostrarConfirmacionBeneficioPropio(false)" title="@L("afiliaciones_beneficios_form_guardar_validacion_btn_cancelar")">
                                                                                    <em class="fa fa-close"></em>
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                        <button class="btn btn-warning btn-circle btn-lg" ng-click="vm.mostrarDirectivaBeneficios(false)" title="@L("afiliaciones_beneficios_form_btn_cancelar")">
                                                                            <em class="fa fa-close"></em>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row" ng-show="!vm.formularioBeneficioVisible">
                                                    <div class="col-md-12">
                                                        <div ng-repeat="beneficio in vm.listadoBeneficios" ng-mouseenter="vm.controlesBeneficio.mostrar($index)" ng-mouseleave="vm.controlesBeneficio.ocultar($index)">
                                                            <div class="modal-footer">
                                                                <div class="row">
                                                                    <div class="col-md-6 text-left">
                                                                        <label class="control-label">{{beneficio.nombre}} - ( {{beneficio.categoriaBeneficioNombre}} )</label>
                                                                        <div>
                                                                            {{beneficio.descripcion}}
                                                                        </div>
                                                                        <div ng-show="beneficio.beneficioPlanExequialNombre">
                                                                            <label class="control-label">@L("afiliaciones_beneficios_form_tabla_reemplazaBeneficio")</label> {{beneficio.beneficioPlanExequialNombre}}
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-3 text-left">
                                                                        <span ng-show="vm.grupoBeneficioNombreSeleccionado == 'Adicional'">
                                                                            <label class="control-label">@L("afiliaciones_beneficios_tabla_informacion_valor")</label> {{beneficio.valor | currency:"$ ":0}}
                                                                            <br />
                                                                        </span>
                                                                        <span ng-show="beneficio.esAsignable">
                                                                            <label class="control-label">@L("afiliaciones_beneficios_tabla_informacion_asignable")</label>
                                                                            <br />
                                                                            ( {{beneficio.asignables}} <span ng-show="beneficio.asignables == '1'">@L("afiliaciones_beneficios_tabla_informacion_1_beneficiario") </span><span ng-hide="beneficio.asignables == '1'">@L("afiliaciones_beneficios_tabla_informacion_masde1_beneficiario") </span> )
                                                                        </span>
                                                                        <span ng-show="!beneficio.esAsignable">
                                                                            @L("afiliaciones_beneficios_tabla_informacion_noAsignable")
                                                                        </span>
                                                                    </div>
                                                                    <div class="col-md-3 text-center">
                                                                        <span ng-show="vm.controlesBeneficio.visible[$index]" class="pull-right">
                                                                            <bow-operacion-editar-fila operacion-editar="vm.editarBeneficioPlanExequial(beneficio.id)" mensaje-tooltip="@L("afiliaciones_beneficios_tabla_editar")" posicion-tooltip="left"></bow-operacion-editar-fila>
                                                                            <bow-operacion-eliminar-fila mensaje-confirmacion="@L("afiliaciones_beneficios_tabla_eliminar_confirmacion")" mensaje-tooltip="@L("afiliaciones_beneficios_tabla_eliminar")" posicion-tooltip="left"
                                                                                                         operacion-puede-eliminar="vm.puedeEliminarBeneficio(beneficio.id, funcionRetornarPuedeEliminar)" no-puede-eliminar="vm.noPuedeEliminarBeneficios()"
                                                                                                         confirmacion-ok="vm.eliminarBeneficio(beneficio.id)"></bow-operacion-eliminar-fila>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-10" ng-if="vm.opcionParametro[2]">
                        <div class="p pv-xxl">
                            <div class="panel panel-success">
                                <div class="panel-heading">
                                    @L("afiliaciones_detallePlanExequial_pestanas_comercializacion")
                                </div>
                                <div class="panel-body">

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-10" ng-if="vm.opcionParametro[3]">
                        <div class="p pv-xxl">
                            <div class="panel panel-pink">
                                <div class="panel-heading">
                                    @L("afiliaciones_detallePlanExequial_pestanas_recaudoMasivo")
                                </div>
                                <div class="panel-body">

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>