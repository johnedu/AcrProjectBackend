<script type="text/ng-template" id="customTemplate.html">
    <a>
        <span bind-html-unsafe="match.model.nombre | typeaheadHighlight:query"></span>
    </a>
</script>
<div class="modal-header text-center">
    <div class="row">
        <div class="col-md-10">
            <h2>{{nombreRecaudoMasivo}}</h2>
        </div>
        <div class="col-md-2 text-right">
            <button class="btn btn-danger glyphicon glyphicon-remove" ng-click="cancelModal()"></button>
        </div>
    </div>
</div>
<div class="modal-body">
    <div class="alert alert-danger text-center" ng-show="mensajeError">
        <strong>{{mensajeError}}</strong>
    </div>
    <div class="row">
        <div class="col-md-12">
            <form role="form" name="formLocalidad">
                <div class="row">
                    <div class="col-md-12">
                        <label class="control-label" for="iptLocalidad">@L("directiva_bowRecaudoMasivoLocalidades_buscar_titulo")</label>
                        <input id="iptLocalidad" name="iptLocalidad" type="text" ng-model="selected" class="form-control" typeahead-editable="false" ng-change="validarTypeaheadVacio(selected.id)"
                               typeahead="localidad as localidad.nombre for localidad in filterByLocalidadAndDepartamentoAndPais(localidades, $viewValue)"
                               typeahead-template-url="customTemplate.html" typeahead-on-select="cargarLocalidadesLista(selected.id, selected.nombre, selected.tipoEntrada)" required>
                        <div ng-show="formLocalidad.iptLocalidad.$dirty && formLocalidad.iptLocalidad.$invalid">
                            <small ng-show="formLocalidad.iptLocalidad.$error.required" class="text-danger">
                                @L("directiva_bowRecaudoMasivoLocalidades_buscar_requerido")
                            </small>
                            <small ng-show="formLocalidad.iptLocalidad.$invalid && !formLocalidad.iptLocalidad.$error.required" class="text-danger">
                                @L("directiva_bowRecaudoMasivoLocalidades_buscar_noSeleccionado")
                            </small>
                        </div>
                    </div>
                </div>
            </form>
            <br />
            <div class="row">
                <div class="col-md-12 text-right">
                    <p>{{listaLocalidadesTabla.totalFilas}} <span ng-show="listaLocalidadesTabla.totalFilas == '1'">@L("directiva_bowRecaudoMasivoLocalidades_tabla_conteo_1_localidad")</span><span ng-hide="listaLocalidadesTabla.totalFilas == '1'">@L("directiva_bowRecaudoMasivoLocalidades_tabla_conteo_masde1_localidad")</span></p>

                </div>
                <div class="col-md-12">
                    <div class="row">
                        <div class="col-md-12">
                            <table class="table table-striped table-hover">
                                <thead>
                                    <tr>
                                        <th>@L("directiva_bowRecaudoMasivoLocalidades_tabla_localidad_titulo")</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="localidad in listaLocalidadesTabla.filasMostrar track by $index">
                                        <td>
                                            <strong>{{localidad.nombre}}</strong>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="text-center">
                        <pagination items-per-page="listaLocalidadesTabla.filasPorPagina"
                                    total-items="listaLocalidadesTabla.totalFilas"
                                    ng-model="listaLocalidadesTabla.paginaActual"
                                    ng-change="listaLocalidadesTabla.pageChanged()"
                                    class="pagination-sm"></pagination>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal-footer">
</div>